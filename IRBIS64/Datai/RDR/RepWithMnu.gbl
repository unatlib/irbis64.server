1
RepWithMnu.wss
 Задайте параметр для изменения и имя справочника
//12 - для БД RDR
// в 991^A - разделитель подполя
// имя справочника
//14 условия замены
// V-факультет W-специальность X-направление Y-ФО Z-ВО
IF
if v991^B='' then '1' fi
PUTLOG
'Не задано имя справочника значений : старое/новое'
FI
IF
if v991^B<>'' then '1' fi
IF
if &uf('+D')='RDR' then '1' fi
//==========================-для БД RDR
IF
if v991^B: '.' then '0' else '1' fi,,,,&uf('+7W5#',v991^A)
REP
991^B
1
v991^B,'.mnu'

FI
//------------------ запись контингента, замена в поле 90, в G5 разделитель подполя
DEL
111
*


ADD
111

&uf('Av90','^',g5,'#1')

IF
if  &unifor('K',v991^B,'!',v111)<>'' then '1' fi
CHA
90
1
'^',g5,v111
if v991^V='' or v90^A='' or &uf('+97',v991^V)=&uf('+97',v90^A)  then  if v991^W='' or v90^C='' or &uf('+97',v991^W)=&uf('+97',v90^C)  then  if v991^X='' or v90^N='' or &uf('+97',v991^X)=&uf('+97',v90^N)  then  if v991^Y='' or v90^O='' or &uf('+97',v991^Y)=&uf('+97',v90^O)  then  if v991^Z='' or v90^V='' or &uf('+97',v991^Z)=&uf('+97',v90^V)  then '^',g5,&unifor('K',v991^B,'!',v111) else '^',g5,v111 fi else '^',g5,v111 fi else '^',g5,v111 fi else '^',g5,v111 fi else '^',g5,v111 fi 

FI
DEL
111
*


DEL
991
*


FI
//===================конец БД RDR
FI
