<html xmlns:v="urn:schemas-microsoft-com:vml"
xmlns:o="urn:schemas-microsoft-com:office:office"
xmlns:w="urn:schemas-microsoft-com:office:word"
xmlns="http://www.w3.org/TR/REC-html40">

<head>
<meta http-equiv=Content-Type content="text/html; charset=windows-1251">
<meta name=ProgId content=Word.Document>
<meta name=Generator content="Microsoft Word 11">
<meta name=Originator content="Microsoft Word 11">
<link rel=File-List href="Irbis_Navigator_Help_Structure.files/filelist.xml">
<link rel=Edit-Time-Data
href="Irbis_Navigator_Help_Structure.files/editdata.mso">
<!--[if !mso]>
<style>
v\:* {behavior:url(#default#VML);}
o\:* {behavior:url(#default#VML);}
w\:* {behavior:url(#default#VML);}
.shape {behavior:url(#default#VML);}
</style>
<![endif]-->
<title>Описание ИРБИС-Навигатора - Структура ИРБИС-ссылки</title>
<!--[if gte mso 9]><xml>
 <o:DocumentProperties>
  <o:Author>Таня</o:Author>
  <o:LastAuthor>Таня</o:LastAuthor>
  <o:Revision>2</o:Revision>
  <o:TotalTime>8</o:TotalTime>
  <o:Created>2012-05-17T11:16:00Z</o:Created>
  <o:LastSaved>2012-05-17T11:24:00Z</o:LastSaved>
  <o:Pages>1</o:Pages>
  <o:Words>685</o:Words>
  <o:Characters>3907</o:Characters>
  <o:Company>GPNTB RF</o:Company>
  <o:Lines>32</o:Lines>
  <o:Paragraphs>9</o:Paragraphs>
  <o:CharactersWithSpaces>4583</o:CharactersWithSpaces>
  <o:Version>11.9999</o:Version>
 </o:DocumentProperties>
</xml><![endif]--><!--[if gte mso 9]><xml>
 <w:WordDocument>
  <w:SpellingState>Clean</w:SpellingState>
  <w:GrammarState>Clean</w:GrammarState>
  <w:ValidateAgainstSchemas/>
  <w:SaveIfXMLInvalid>false</w:SaveIfXMLInvalid>
  <w:IgnoreMixedContent>false</w:IgnoreMixedContent>
  <w:AlwaysShowPlaceholderText>false</w:AlwaysShowPlaceholderText>
  <w:BrowserLevel>MicrosoftInternetExplorer4</w:BrowserLevel>
 </w:WordDocument>
</xml><![endif]--><!--[if gte mso 9]><xml>
 <w:LatentStyles DefLockedState="false" LatentStyleCount="156">
 </w:LatentStyles>
</xml><![endif]-->
<style>
<!--
 /* Style Definitions */
 p.MsoNormal, li.MsoNormal, div.MsoNormal
	{mso-style-parent:"";
	margin:0cm;
	margin-bottom:.0001pt;
	mso-pagination:widow-orphan;
	font-size:12.0pt;
	font-family:"Times New Roman";
	mso-fareast-font-family:"Times New Roman";}
a:link, span.MsoHyperlink
	{color:blue;
	text-decoration:underline;
	text-underline:single;}
a:visited, span.MsoHyperlinkFollowed
	{color:purple;
	text-decoration:underline;
	text-underline:single;}
p
	{font-size:12.0pt;
	font-family:"Times New Roman";
	mso-fareast-font-family:"Times New Roman";}
p.section1, li.section1, div.section1
	{mso-style-name:section1;
	mso-margin-top-alt:auto;
	margin-right:0cm;
	mso-margin-bottom-alt:auto;
	margin-left:0cm;
	mso-pagination:widow-orphan;
	font-size:12.0pt;
	font-family:"Times New Roman";
	mso-fareast-font-family:"Times New Roman";}
span.SpellE
	{mso-style-name:"";
	mso-spl-e:yes;}
span.GramE
	{mso-style-name:"";
	mso-gram-e:yes;}
@page Section1
	{size:595.3pt 841.9pt;
	margin:2.0cm 42.5pt 2.0cm 3.0cm;
	mso-header-margin:35.4pt;
	mso-footer-margin:35.4pt;
	mso-paper-source:0;}
div.Section1
	{page:Section1;}
-->
</style>
<!--[if gte mso 10]>
<style>
 /* Style Definitions */
 table.MsoNormalTable
	{mso-style-name:"Обычная таблица";
	mso-tstyle-rowband-size:0;
	mso-tstyle-colband-size:0;
	mso-style-noshow:yes;
	mso-style-parent:"";
	mso-padding-alt:0cm 5.4pt 0cm 5.4pt;
	mso-para-margin:0cm;
	mso-para-margin-bottom:.0001pt;
	mso-pagination:widow-orphan;
	font-size:10.0pt;
	font-family:"Times New Roman";
	mso-ansi-language:#0400;
	mso-fareast-language:#0400;
	mso-bidi-language:#0400;}
</style>
<![endif]--><!--[if gte mso 9]><xml>
 <o:shapedefaults v:ext="edit" spidmax="2050"/>
</xml><![endif]--><!--[if gte mso 9]><xml>
 <o:shapelayout v:ext="edit">
  <o:idmap v:ext="edit" data="1"/>
 </o:shapelayout></xml><![endif]-->
</head>

<body bgcolor=white lang=RU link=blue vlink=purple style='tab-interval:35.4pt'>

<div class=Section1>

<h1 align=center style='text-align:center'><span style='font-size:14.0pt'>Структура
<span class=SpellE><span class=GramE>ИРБИС-ссылки</span></span></span></h1>

<p>ИРБИС-ссылка является «надстройкой» <span lang=EN-US style='mso-ansi-language:
EN-US'>HTML</span> для реализации функций <span class=SpellE><span class=GramE>ИРБИС-Навигатора</span></span>.</p>

<p>В общем виде ИРБИС-ссылка имеет следующий вид:</p>

<p><span lang=EN-US style='mso-ansi-language:EN-US'>IRBIS</span><span
class=GramE>:[</span><span class=SpellE>параметры_ссылки</span>]</p>

<p>ИРБИС-ссылка может использоваться и формироваться в <span lang=EN-US
style='mso-ansi-language:EN-US'>HTML</span>-странице ТОЧНО так же, как и <span
lang=EN-US style='mso-ansi-language:EN-US'>URL</span>-ссылка.</p>

<p>Все параметры <span class=SpellE>ИРБИС-ссылки</span> могут передаваться
методом <span lang=EN-US style='mso-ansi-language:EN-US'>GET</span> (т.е.
непосредственно в ссылке после символа<span class=GramE> ?</span>) или методом <span
lang=EN-US style='mso-ansi-language:EN-US'>POST</span>.</p>

<p>Для обеспечения преемственности по отношению к ссылкам, применяемым в
стандартных форматах для других <span class=SpellE>АРМов</span> ИРБИС, часть
параметров может передаваться позиционно в основной части ссылки (до символа<span
class=GramE> ?</span>). Т.е. в общем виде ИРБИС-ссылка может быть <span
class=GramE>представлена</span> как:</p>

<p><span lang=EN-US style='mso-ansi-language:EN-US'>IRBIS</span><span
class=GramE>:[</span><span class=SpellE>позиционные_параметры</span>]?[поименованные
параметры]</p>

<p>Каждая ИРБИС-ссылка реализует ОДНУ команду, поэтому среди передаваемых
параметров ОБЯЗАТЕЛЬНО должен присутствовать параметр, идентифицирующий
команду, - имя этого параметра по умолчанию <span lang=EN-US style='mso-ansi-language:
EN-US'>C</span>21<span lang=EN-US style='mso-ansi-language:EN-US'>COM</span>.</p>

<p>Перечень всех параметров, сгруппированных по командам, представлен в <a
href="IRBIS:3,0,,Irbis_Navigator_Help_Param.html">следующей таблице…</a></p>

<p>Поименованные параметры передаются в соответствии с правилами и структурой <span
lang=EN-US style='mso-ansi-language:EN-US'>URL</span>.</p>

<p>В качестве позиционных параметров могут передаваться ТОЛЬКО следующие
параметры:</p>

<p class=MsoNormal>-<span style='font-size:7.0pt'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span>идентификатор команды (<span lang=EN-US style='mso-ansi-language:EN-US'>C</span>21<span
lang=EN-US style='mso-ansi-language:EN-US'>COM</span>); <br>
-<span lang=EN-US style='font-size:7.0pt;mso-ansi-language:EN-US'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span
lang=EN-US style='font-size:7.0pt'> </span>имя БД (<span lang=EN-US
style='mso-ansi-language:EN-US'>I</span>21<span lang=EN-US style='mso-ansi-language:
EN-US'>DBN</span>); <br>
-<span style='font-size:7.0pt'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span>имя формата (<span lang=EN-US style='mso-ansi-language:EN-US'>PFTNAME</span>);
<br>
-<span lang=EN-US style='font-size:7.0pt;mso-ansi-language:EN-US'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span
lang=EN-US style='font-size:7.0pt'> </span>ключ (<span lang=EN-US
style='mso-ansi-language:EN-US'>KEY</span>); <br>
-<span lang=EN-US style='font-size:7.0pt;mso-ansi-language:EN-US'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span
lang=EN-US style='font-size:7.0pt'> </span>путь (<span lang=EN-US
style='mso-ansi-language:EN-US'>PATH</span>); <br>
-<span style='font-size:7.0pt'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span>имя файлового ресурса (<span lang=EN-US style='mso-ansi-language:EN-US'>FILENAME</span>).
</p>

<p>Для всех команд, кроме 3, структура позиционных параметров имеет вид:</p>

<p><span lang=EN-US style='mso-ansi-language:EN-US'>N</span>,<span class=GramE>,<span
class=SpellE><span lang=EN-US style='mso-ansi-language:EN-US'>dbname</span></span>,<span
class=SpellE><span lang=EN-US style='mso-ansi-language:EN-US'>pftname</span></span>,<span
lang=EN-US style='mso-ansi-language:EN-US'>key</span></span></p>

<p>где <span lang=EN-US style='mso-ansi-language:EN-US'>N</span> –
идентификатор команды.</p>

<p>Для команды 3 структура позиционных параметров имеет вид:</p>

<p>3,<span lang=EN-US style='mso-ansi-language:EN-US'>path</span>,<span
class=SpellE><span lang=EN-US style='mso-ansi-language:EN-US'>dbname</span></span>,<span
lang=EN-US style='mso-ansi-language:EN-US'>filename</span></p>

<p>Повторим, что наличие и структура позиционных параметров связаны
исключительно с обеспечением преемственности по отношению к ссылкам,
применяемым в «обычных» форматах ИРБИС. Тем, для кого затруднительно понимание
позиционных параметров, можно рекомендовать их вообще не использовать, а
применять только поименованные параметры.</p>

<p>Примеры <span class=SpellE><span class=GramE>ИРБИС-ссылок</span></span>:</p>

<p><span lang=EN-US style='mso-ansi-language:EN-US'><a
href="IRBIS:1,,IBIS,FULLW0_WN,@6">IRBIS<span lang=RU style='mso-ansi-language:
RU'>:1,,</span>IBIS<span lang=RU style='mso-ansi-language:RU'>,</span>FULLW<span
lang=RU style='mso-ansi-language:RU'>0_</span>WN<span lang=RU style='mso-ansi-language:
RU'>,@6</span></a></span></p>

<p>Та же самая ссылка с использованием поименованных параметров:</p>

<p><span lang=EN-US style='mso-ansi-language:EN-US'><a
href="IRBIS:?C21COM=1&amp;I21DBN=IBIS&amp;PFTNAME=FULLW0_WN&amp;KEY=@6">IRBIS<span
lang=RU style='mso-ansi-language:RU'>:?</span>C<span lang=RU style='mso-ansi-language:
RU'>21</span>COM<span lang=RU style='mso-ansi-language:RU'>=1&amp;</span>I<span
lang=RU style='mso-ansi-language:RU'>21</span>DBN<span lang=RU
style='mso-ansi-language:RU'>=</span>IBIS<span lang=RU style='mso-ansi-language:
RU'>&amp;</span>PFTNAME<span lang=RU style='mso-ansi-language:RU'>=</span>FULLW<span
lang=RU style='mso-ansi-language:RU'>0_</span>WN<span lang=RU style='mso-ansi-language:
RU'>&amp;</span>KEY<span lang=RU style='mso-ansi-language:RU'>=@6</span></a></span></p>

<p>То же самое со смешанным использованием позиционных и поименованных
параметров:</p>

<p><span lang=EN-US style='mso-ansi-language:EN-US'><a
href="IRBIS:1,,IBIS,,@6?PFTNAME=FULLW0_WN">IRBIS<span lang=RU style='mso-ansi-language:
RU'>:1,,</span>IBIS<span lang=RU style='mso-ansi-language:RU'>,,@6?</span>PFTNAME<span
lang=RU style='mso-ansi-language:RU'>=</span>FULLW<span lang=RU
style='mso-ansi-language:RU'>0_</span>WN</a></span></p>

<p>Необходимо помнить, что при указании значений поименованных параметров можно
использовать только&nbsp; латиницу, цифры и некоторые специальные символы – для
передачи остальных символов используется специальное представление (для этого в
языке форматирования введен <a
href="IRBIS:3,1,,Irbis_Navigator_Help_UNIFOR.html">специальный форматный выход</a>
&amp;<span class=SpellE><span lang=EN-US style='mso-ansi-language:EN-US'>unifor</span></span>(‘+3<span
lang=EN-US style='mso-ansi-language:EN-US'>E</span>..’)).</p>

<p><span class=GramE>Помимо собственно <span class=SpellE>ИРБИС-ссылок</span>,
работа с которыми является ГЛАВНОЙ функцией <span class=SpellE>ИРБИС-Навигатора</span>,
предлагаются дополнительные оригинальные (т.е. интерпретируемые ТОЛЬКО <span
class=SpellE>ИРБИС-Навигатором</span>) конструкции <span lang=EN-US
style='mso-ansi-language:EN-US'>HTML</span>.</span></p>

<p>1. Включение в <span lang=EN-US style='mso-ansi-language:EN-US'>HTML</span>-страницу
графических данных на основе их относительной адресации в системе ИРБИС.</p>

<p><span lang=EN-US style='mso-ansi-language:EN-US'>&lt;IMG SRC=”<span
class=SpellE>IRBIS<span class=GramE>:path,dbname,filename</span></span>”
…..&gt;<o:p></o:p></span></p>

<p>где:</p>

<blockquote style='margin-top:5.0pt;margin-bottom:5.0pt'>

<p><span class=SpellE>path</span> – относительный путь в системе ИРБИС.
Принимает значения:</p>

<blockquote style='margin-top:5.0pt;margin-bottom:5.0pt'>

<p class=MsoNormal>0 – основная директория ИРБИС;</p>

<p class=MsoNormal>1 – общая директория БД (.\<span lang=EN-US
style='mso-ansi-language:EN-US'>DATAI</span>);</p>

<p class=MsoNormal>2,3,10 – директория БД.</p>

</blockquote>

</blockquote>

<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class=SpellE><span
class=GramE><span lang=EN-US style='mso-ansi-language:EN-US'>dbname</span></span></span>
– имя БД (имеет смысл, если <span lang=EN-US style='mso-ansi-language:EN-US'>path</span>
принимает значения 2,3,10).</p>

<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class=GramE><span
lang=EN-US style='mso-ansi-language:EN-US'>filename</span></span> – имя
графического файла.</p>

<p>Пример...&lt;<span class=SpellE>img</span> <span class=SpellE>src=</span>&quot;irbis:0,,IRBIS.GIF&quot;&gt;<img
border=0 width=32 height=32 id="_x0000_i1025" src="irbis:0,,IRBIS.GIF"> <span
lang=EN-US style='mso-ansi-language:EN-US'><o:p></o:p></span></p>

<p>Дополнение с версии 2012.1:</p>

<p>В качестве <span lang=EN-US style='mso-ansi-language:EN-US'>filename</span><span
lang=EN-US> </span>можно указывать <span lang=EN-US style='mso-ansi-language:
EN-US'>PDF</span>-файл. В этом случае конструкция имеет вид:</p>

<p><span lang=EN-US style='mso-ansi-language:EN-US'>&lt;IMG SRC=”<span
class=SpellE>IRBIS<span class=GramE>:path</span>/page,dbname,filename</span>”
…..&gt;<o:p></o:p></span></p>

<p>где <span lang=EN-US style='mso-ansi-language:EN-US'>page</span><span
lang=EN-US> </span>– номер страницы <span lang=EN-US style='mso-ansi-language:
EN-US'>PDF</span>-файла (по умолчанию -1)</p>

<p>При этом страница <span lang=EN-US style='mso-ansi-language:EN-US'>PDF</span>-файла
отображается в виде графического образа в формате <span lang=EN-US
style='mso-ansi-language:EN-US'>JPEG</span>.</p>

<p>Пример...&lt;<span class=SpellE>img</span> <span class=SpellE>src=</span>&quot;irbis:10<span
lang=EN-US style='mso-ansi-language:EN-US'>/5</span>,<span lang=EN-US
style='mso-ansi-language:EN-US'>IBIS</span>,<span lang=EN-US style='mso-ansi-language:
EN-US'>1</span>.<span lang=EN-US style='mso-ansi-language:EN-US'>PDF</span>&quot;&gt;</p>

<p>2. Отображение на <span lang=EN-US style='mso-ansi-language:EN-US'>HTML</span>-странице
штрих-кода.</p>

<p>&lt;<span lang=EN-US style='mso-ansi-language:EN-US'>IMG</span><span
lang=EN-US> </span><span lang=EN-US style='mso-ansi-language:EN-US'>SRC</span>=”<span
lang=EN-US style='mso-ansi-language:EN-US'>IRBIS</span>:!!ШШШ!!” …..&gt;</p>

<p>где: ШШШ – значение штрих-кода.</p>

<p>При отображении <span class=SpellE><span class=GramE>штрих-кодов</span></span>
используются параметры <span lang=EN-US style='mso-ansi-language:EN-US'><a
href="IRBIS:3,0,,Irbis_Navigator_Help_INI.html">INI<span lang=RU
style='mso-ansi-language:RU'>-файла</span></a></span><span lang=EN-US> </span><span
lang=EN-US style='mso-ansi-language:EN-US'>BARCODEHEIGHT</span><span
lang=EN-US> </span>и <span lang=EN-US style='mso-ansi-language:EN-US'>BARCODETYPE</span></p>

<p>Пример...&lt;<span class=SpellE>img</span> <span class=SpellE>src=</span>&quot;irbis:!!12345678!!&quot;&gt;<img
border=0 width=32 height=32 id="_x0000_i1026" src="irbis:!!12345678!!"> </p>

<p>3. Использование <span class=SpellE><span class=GramE>ИРБИС-тэга</span></span>.</p>

<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &lt;<span
lang=EN-US style='mso-ansi-language:EN-US'>IRBIS</span><span lang=EN-US> </span><span
lang=EN-US style='mso-ansi-language:EN-US'>TYPE</span>=”<span lang=EN-US
style='mso-ansi-language:EN-US'>N</span>”&gt;</p>

<p>Смысл <span class=SpellE><span class=GramE>ИРБИС-тэга</span></span>
определяется значением параметра <span lang=EN-US style='mso-ansi-language:
EN-US'>TYPE</span>. Пока предлагается одно значение <span lang=EN-US
style='mso-ansi-language:EN-US'>TYPE</span>=0. Такой тэг интерпретируется как
порядковый номер документа в списке с учетом порядкового номера первого
документа в выводимой порции (значение параметра <span lang=EN-US
style='mso-ansi-language:EN-US'>S</span>21<span lang=EN-US style='mso-ansi-language:
EN-US'>STN</span>). Список типов <span class=SpellE><span class=GramE>ИРБИС-тэга</span></span>
в дальнейшем будет пополняться (принимаются заявки пользователей).</p>

</div>

</body>

</html>
