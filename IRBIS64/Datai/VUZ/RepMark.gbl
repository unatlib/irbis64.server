1
RepMark.wss
  ВВЕДИТЕ значение для изменения (RepMark)
// задание REPMARK запускается за записи GLOB
//12 PUTLOG
// в 992^X - идент.подполя, в котором надо менять
// в 992^y - значение, которое надо менять
//15 условия замены в 991
//991 условия замены в - ! факультет / специальность | направление + ФО = ВО
//16 добавила передачу признака менять в доп. БД - [ ]
//18 уровень компонента
IF
if p(v991^A) then '1' else '0' fi
//-------------------- специальность
PUTLOG
'Замена специальности ',v991^A,' на ',v991^1,if s(v991^!,v991^/,,v991^|,,v991^+,,v991^=)<>'' then   ' для ', if v991^!<>'' then ' факультета ',,v991^!  fi,,if v991^/<>''  then ' специальности ',,v991^/ fi,,if v991^|<>''  then ' направления ',,v991^| fi,,if v991^+<>'' then  ' формы обучения ',,v991^+ fi,,if v991^=<>'' then   ' вида обучения ',,v991^= fi,,fi ,,,,,,,,,,if val(v991^[)=1 and v991^]<>'' then ' .Для всех БД из списка ',,v991^] fi
PUTLOG
'LINKCORRTASK=REPMARK1%QUERY="DISCS=',,v991^A,,,'"%V991=',,"^A"v991^A,"^B"v991^1,'^CC',v992,"^W"v991^W,,,,"^["v991^[,,"^]"v991^],,,,,,&uf('+97',,"^!"v991^!,,"^/"v991^/,,"^|"v991^|,,"^+"v991^+,,"^="v991^=),,'%'
FI
IF
if p(v991^B) then '1' else '0' fi
//------------------------- направление
PUTLOG
'Замена направления ',v991^B,' на ',v991^2,if s(v991^!,v991^/,,v991^|,,v991^+,,v991^=)<>'' then   ' для ', if v991^!<>'' then ' факультета ',,v991^!  fi,,if v991^/<>''  then ' специальности ',,v991^/ fi,,if v991^|<>''  then ' направления ',,v991^| fi,,if v991^+<>'' then  ' формы обучения ',,v991^+ fi,,if v991^=<>'' then   ' вида обучения ',,v991^= fi,,fi ,,,,,,,,,,,if val(v991^[)=1 and v991^]<>'' then ' .Для всех БД из списка ',,v991^] fi
PUTLOG
'LINKCORRTASK=REPMARK1%QUERY="DISCNPR=',,v991^B,,,'"%V991=',,"^A"v991^B,"^B"v991^2,'^CN',v992,"^W"v991^W,,,,"^["v991^[,,"^]"v991^],,,,&uf('+97',,"^!"v991^!,,"^/"v991^/,,"^|"v991^|,,"^+"v991^+,,"^="v991^=),,'%'
FI

IF
if p(v991^3) then '1' else '0' fi
//---------------------- кафедра читающая
PUTLOG
'Замена кода кафедры читающей ',v991^C,' на ',v991^3,if s(v991^!,v991^/,,v991^|,,v991^+,,v991^=)<>'' then   ' для ', if v991^!<>'' then ' факультета ',,v991^!  fi,,if v991^/<>''  then ' специальности ',,v991^/ fi,,if v991^|<>''  then ' направления ',,v991^| fi,,if v991^+<>'' then  ' формы обучения ',,v991^+ fi,,if v991^=<>'' then   ' вида обучения ',,v991^= fi,,fi ,,,,,,,,,,if val(v991^[)=1 and v991^]<>'' then ' .Для всех БД из списка ',,v991^] fi
PUTLOG
'LINKCORRTASK=REPMARK1%QUERY="DISCKH=',,v991^C,,,'"%V991=',,"^A"v991^C,"^B"v991^3,'^CH',v992,"^W"v991^W,,,,"^["v991^[,,"^]"v991^],,,,&uf('+97',,"^!"v991^!,,"^/"v991^/,,"^|"v991^|,,"^+"v991^+,,"^="v991^=),,'%'
FI
IF
if p(v991^:) then '1' else '0' fi
//---------------------- уровень компонента
PUTLOG
'Замена кода уровня компонента ',v991^K,' на ',v991^:,if s(v991^!,v991^/,,v991^|,,v991^+,,v991^=)<>'' then   ' для ', if v991^!<>'' then ' факультета ',,v991^!  fi,,if v991^/<>''  then ' специальности ',,v991^/ fi,,if v991^|<>''  then ' направления ',,v991^| fi,,if v991^+<>'' then  ' формы обучения ',,v991^+ fi,,if v991^=<>'' then   ' вида обучения ',,v991^= fi,,fi ,,,,,,,,,,if val(v991^[)=1 and v991^]<>'' then ' .Для всех БД из списка ',,v991^] fi
PUTLOG
'LINKCORRTASK=REPMARK1%QUERY="DiscUK=',,v991^K,,,'"%V991=',,"^A"v991^K,"^B"v991^:,'^CK',v992,"^W"v991^W,,,,"^["v991^[,,"^]"v991^],,,,&uf('+97',,"^!"v991^!,,"^/"v991^/,,"^|"v991^|,,"^+"v991^+,,"^="v991^=),,'%'
FI
IF
if p(v991^5) then '1' else '0' fi
//----------------------- факультет
PUTLOG
'Замена кода факультета ',v991^E,' на ',v991^5,if s(v991^!,v991^/,,v991^|,,v991^+,,v991^=)<>'' then   ' для ', if v991^!<>'' then ' факультета ',,v991^!  fi,,if v991^/<>''  then ' специальности ',,v991^/ fi,,if v991^|<>''  then ' направления ',,v991^| fi,,if v991^+<>'' then  ' формы обучения ',,v991^+ fi,,if v991^=<>'' then   ' вида обучения ',,v991^= fi,,fi ,,,,,,,,if val(v991^[)=1 and v991^]<>'' then ' .Для всех БД из списка ',,v991^] fi
PUTLOG
'LINKCORRTASK=REPMARK1%QUERY="DFAK=',,v991^E,,,'"%V991=',,"^A"v991^E,"^B"v991^5,'^CA',v992,"^W"v991^W,,,,"^["v991^[,,"^]"v991^],,,,&uf('+97',,"^!"v991^!,,"^/"v991^/,,"^|"v991^|,,"^+"v991^+,,"^="v991^=),,'%'
FI
IF
if p(v991^7) then '1' else '0' fi
//----------------------- форма обучения
PUTLOG
'Замена формы обучения ',v991^O,' на ',v991^7,if s(v991^!,v991^/,,v991^|,,v991^+,,v991^=)<>'' then   ' для ', if v991^!<>'' then ' факультета ',,v991^!  fi,,if v991^/<>''  then ' специальности ',,v991^/ fi,,if v991^|<>''  then ' направления ',,v991^| fi,,if v991^+<>'' then  ' формы обучения ',,v991^+ fi,,if v991^=<>'' then   ' вида обучения ',,v991^= fi,,fi ,,,,,,,,,if val(v991^[)=1 and v991^]<>'' then ' .Для всех БД из списка ',,v991^] fi
PUTLOG
'LINKCORRTASK=REPMARK1%QUERY="DISCFO=',,v991^O,,,'"%V991=',,"^A"v991^O,"^B"v991^7,'^CO',v992,"^W"v991^W,,,,"^["v991^[,,"^]"v991^],,,,&uf('+97',,"^!"v991^!,,"^/"v991^/,,"^|"v991^|,,"^+"v991^+,,"^="v991^=),,'%'
FI
IF
if p(v991^6) then '1' else '0' fi
//----------------------- Вид обучения
PUTLOG
'Замена вида обучения ',v991^V,' на ',v991^6,if s(v991^!,v991^/,,v991^|,,v991^+,,v991^=)<>'' then   ' для ', if v991^!<>'' then ' факультета ',,v991^!  fi,,if v991^/<>''  then ' специальности ',,v991^/ fi,,if v991^|<>''  then ' направления ',,v991^| fi,,if v991^+<>'' then  ' формы обучения ',,v991^+ fi,,if v991^=<>'' then   ' вида обучения ',,v991^= fi,,,,fi,,,,,,,,,,if val(v991^[)=1 and v991^]<>'' then ' .Для всех БД из списка ',,v991^] fi
PUTLOG
'LINKCORRTASK=REPMARK1%QUERY="DISCVO=',,v991^V,,,'"%V991=',,"^A"v991^V,"^B"v991^6,'^CV',v992,"^W"v991^W,,"^["v991^[,,"^]"v991^],,,,&uf('+97',,"^!"v991^!,,"^/"v991^/,,"^|"v991^|,,"^+"v991^+,,"^="v991^=),,'%'
FI
IF
if p(v991^8) then '1' else '0' fi
//----------------------- Семестр
PUTLOG
'Замена семестра ',v991^F,' на ',v991^8,,,if s(v991^!,v991^/,,v991^|,,v991^+,,v991^=)<>'' then   ' для ', if v991^!<>'' then ' факультета ',,v991^!  fi,,if v991^/<>''  then ' специальности ',,v991^/ fi,,if v991^|<>''  then ' направления ',,v991^| fi,,if v991^+<>'' then  ' формы обучения ',,v991^+ fi,,if v991^=<>'' then   ' вида обучения ',,v991^= fi,,fi ,,,,,,,,,,if val(v991^[)=1 and v991^]<>'' then ' .Для всех БД из списка ',,v991^] fi
PUTLOG
'LINKCORRTASK=REPMARK1%QUERY="DSS=',,v991^F,,,'"%V991=',,"^A"v991^F,"^B"v991^8,'^CF',v992,"^W"v991^W,,"^["v991^[,,"^]"v991^],,,,&uf('+97',,"^!"v991^!,,"^/"v991^/,,"^|"v991^|,,"^+"v991^+,,"^="v991^=),,'%'
FI
IF
if p(v991^4) then '1' else '0' fi
//------------------ имя дисциплины 
IF
if v991^D: '#' then '1' fi
PUTLOG
'Запрещенный символ в наименовании дисциплины - # '
FI
IF
if v991^D: '#' then else '1' fi
PUTLOG
'Замена имени дисциплины ',v991^D,' на ',v991^4,,,,,,,,,,,if val(v991^[)=1 and v991^]<>'' then ' .Для всех БД из списка ',,v991^] fi
PUTLOG
'LINKCORRTASK=REPMARK1%QUERY="DISCN=',,v991^D,,,'"%V991=',,"^A"v991^D,"^B"v991^4,'^CD',v992,"^W"v991^W,,,"^["v991^[,,"^]"v991^],,,&uf('+97',,"^!"v991^!,,"^/"v991^/,,"^|"v991^|,,"^+"v991^+,,"^="v991^=),,'%'
FI
FI
IF
if p(v991^9) then '1' else '0' fi
//------------------ идентификатор дисциплины 
PUTLOG
'Замена идентификатора дисциплины ',v991^I,' на ',v991^9,,,,,,,,,,,if val(v991^[)=1 and v991^]<>'' then ' .Для всех БД из списка ',,v991^] fi
PUTLOG
'LINKCORRTASK=REPMARK1%QUERY="IDD=',,v991^I,,,'"%V991=',,"^A"v991^I,"^B"v991^9,'^CI',v992,"^W"v991^W,,,"^["v991^[,,"^]"v991^],,,&uf('+97',,"^!"v991^!,,"^/"v991^/,,"^|"v991^|,,"^+"v991^+,,"^="v991^=),,'%'
FI
IF
if p(v991^0) then '1' else '0' fi
//------------------ цикл дисциплины 
PUTLOG
'Замена цикла дисциплины ',v991^S,' на ',v991^0,,,,,,,,,,,if val(v991^[)=1 and v991^]<>'' then ' .Для всех БД из списка ',,v991^] fi
PUTLOG
'LINKCORRTASK=REPMARK1%QUERY="DISCCKL=',,v991^S,,,'"%V991=',,"^A"v991^S,"^B"v991^0,'^CS',v992,"^W"v991^W,,,"^["v991^[,,"^]"v991^],,,&uf('+97',,"^!"v991^!,,"^/"v991^/,,"^|"v991^|,,"^+"v991^+,,"^="v991^=),,'%'
FI
